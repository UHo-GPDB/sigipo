{% extends "base.html" %}
{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/internal/base-crud.css' %}"/>
{% endblock styles %}

{% block content %}
    <div class="container">
        <h1>{{ crud_name }}</h1>
        <div class="table-responsive">
            <div class="table-wrapper">
                <div class="table-filters">
                    {% block table_filters %}
                    <h2>Filtro(s):</h2>
                        <form method="get" class="row">
                            {% block model_filters %}
                                {% for field in filter.form.visible_fields %}
                                    <div class="col">{{ field }}</div>
                                {% endfor %}
                            {% endblock model_filters %}
                            <div class="col-auto">
                                <button type="submit" class="btn btn-info mb-3"><i class="fa-solid fa-filter"></i> Filtrar</button>
                            </div>
                            <div class="col-auto">
                                <a href="?" class="btn btn-warning mb-3"><i class="fa-solid fa-ban"></i> Quitar filtros</a>
                            </div>
                        </form>
                        <hr/>
                    {% endblock table_filters %}
                </div>
                {% block table %}
                    <table class="table table-hover table-bordered">
                        <thead>
                            <tr>
                                {% block table_columns %}
                                    {% block crud_columns %}
                                    {% endblock crud_columns %}
                                    <th class="text-center">Acciones</th>
                                {% endblock table_columns %}
                            </tr>
                        </thead>
                        <tbody>
                            {% block table_body %}{% endblock table_body %}
                        </tbody>
                    </table>
                {% endblock table %}
                <div class="clearfix">
                    <div class="hint-text">
                        P&aacute;gina <b>{{ page_obj.number }}</b> de <b>{{ page_obj.paginator.num_pages }}</b>
                    </div>
                    <ul class="pagination">
                        <li class="page-item {% if page_obj.number == 1 %}disabled{% endif %}"><a class="page-link" href="?page=1&{{ parameters }}"><i class="fa fa-angle-double-left"></i></a></li>
                        {% for page_number in pagination_range %}
                            <li class="page-item {% if page_number == page_obj.number %}active{% endif %}"><a href="?page={{ page_number }}&{{ parameters }}" class="page-link">{{ page_number }}</a></li>
                        {% endfor %}
                        <li class="page-item {% if page_obj.number == paginator.num_pages %}disabled{% endif %}"><a href="?page={{ paginator.num_pages }}&{{ parameters }}" class="page-link"><i class="fa fa-angle-double-right"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
